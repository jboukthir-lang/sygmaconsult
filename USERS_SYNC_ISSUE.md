# ูุดููุฉ: ุงููุณุชุฎุฏููู ุบูุฑ ุธุงูุฑูู ูู ุงูุฃุฏูู

## ๐ ุงููุดููุฉ ุงูููุชุดูุฉ

ุงููุณุชุฎุฏููู ููุฌูุฏูู ูู **Firebase Authentication** ููู **ุบูุฑ ููุฌูุฏูู** ูู ุฌุฏูู `user_profiles` ูู Supabase.

### ุงููุชุงุฆุฌ:
- โ 13 ุญุฌุฒ ููุฌูุฏ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ 1 ูุณุชุฎุฏู ุฃุฏูู
- โ 0 ูุณุชุฎุฏู ูู ุฌุฏูู `user_profiles`

## ๐ฏ ุงูุณุจุจ

ุนูุฏูุง ูุณุฌู ุงููุณุชุฎุฏู ูู ุงูุชุทุจูู:
1. โ ูุชู ุชุณุฌููู ูู Firebase Authentication
2. โ **ูุง** ูุชู ุฅูุดุงุก ููู ุดุฎุตู ูู ูู Supabase

ูุฐุง ูุนูู ุฃู ุตูุญุฉ `/profile` ุฃู ุนูููุฉ ุชุณุฌูู ุงููุณุชุฎุฏู ูุง ุชููู ุจุฅูุดุงุก ุงูุณุฌู ูู `user_profiles`.

## โ ุงูุญููู

### ุงูุญู 1: ูุฒุงููุฉ ุงููุณุชุฎุฏููู ุงูุญุงูููู

ูู ุจุชุดุบูู ุงูุณูุฑูุจุช ุงูุชุงูู ููุฒุงููุฉ ุฌููุน ุงููุณุชุฎุฏููู ูู Firebase ุฅูู Supabase:

```bash
cd web
node scripts/sync-firebase-to-supabase.mjs
```

**ูุชุทูุจ**: ูุฌุจ ุฃู ูููู ููู `serviceAccountKey.json` ููุฌูุฏ ูู ุงููุฌูุฏ ุงูุฑุฆูุณู.

---

### ุงูุญู 2: ุฅุตูุงุญ ุนูููุฉ ุงูุชุณุฌูู

ุชุญุฏูุซ ููู ุงูุชุณุฌูู ููููู ุจุฅูุดุงุก ููู ูู `user_profiles` ุชููุงุฆูุงู.

#### ููู: `/web/app/signup/page.tsx`

ุฃุถู ุจุนุฏ ุชุณุฌูู ุงููุณุชุฎุฏู ูู Firebase:

```typescript
// After successful Firebase signup
const { user } = userCredential;

// Create user profile in Supabase
await supabase.from('user_profiles').insert({
  user_id: user.uid,
  email: user.email,
  full_name: '', // ูููู ููุคูุง ูู ุงููููุฐุฌ
  phone: '',
  created_at: new Date().toISOString(),
});
```

---

### ุงูุญู 3: ุฅุถุงูุฉ ุตูุญุฉ "ุฅููุงู ุงูููู ุงูุดุฎุตู"

ุจุนุฏ ุงูุชุณุฌููุ ูุฌู ุงููุณุชุฎุฏู ูุตูุญุฉ ูุฅููุงู ูููู ุงูุดุฎุตู.

---

## ๐ง ุฎุทูุงุช ุงูุฅุตูุงุญ ุงูุณุฑูุน

### ุงูุฎุทูุฉ 1: ุชุญุฏูุซ ุตูุญุฉ ุงูุชุณุฌูู

```bash
# ุณุฃููู ุจุชุญุฏูุซ ููู signup/page.tsx
```

### ุงูุฎุทูุฉ 2: ุฅูุดุงุก trigger ูู Supabase

ูููู ุฅูุดุงุก PostgreSQL Trigger ูููู ุชููุงุฆูุงู ุจุฅูุดุงุก ููู ุดุฎุตู ุนูุฏ ุงูุชุณุฌูู.

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **Row Level Security (RLS)**:
   - ุชุฃูุฏ ูู ุฃู ุณูุงุณุงุช RLS ุชุณูุญ ููุฃุฏูู ุจุฑุคูุฉ ุฌููุน ุงููุณุชุฎุฏููู
   - Policy ูุทููุจ: `SELECT` ุนูู `user_profiles` ููุฃุฏูู

2. **ุงูุนูุงูุฉ ุจูู Firebase ู Supabase**:
   - Firebase = Authentication ููุท
   - Supabase = ุชุฎุฒูู ุงูุจูุงูุงุช + ุงูุฌุฏุงูู

3. **ุงูุญุฌูุฒุงุช ููุฌูุฏุฉ**:
   - ุงููุณุชุฎุฏููู ุงูุฐูู ุนูููุง ุญุฌูุฒุงุช ููุฌูุฏูู ูู Firebase
   - ููู ูููุงุชูู ุงูุดุฎุตูุฉ ุบูุฑ ููุฌูุฏุฉ ูู Supabase

---

## โ ุงูุฎุทูุฉ ุงูุชุงููุฉ

ูู ุชุฑูุฏ ุฃู:

1. โ **ุฃุตูุญ ุตูุญุฉ ุงูุชุณุฌูู** ูุฅูุดุงุก ุงูููู ุงูุดุฎุตู ุชููุงุฆูุงูุ
2. โ **ุฃูุดุฆ ุณูุฑูุจุช ูุฒุงููุฉ** ูููุณุชุฎุฏููู ุงูุญุงููููุ
3. โ **ููุงููุง**ุ

ุณุฃููู ุจุงูุญู ุงูุขู...

# ๐จ ุญู ุณุฑูุน ููุดููุฉ Access Denied

## ุงููุดููุฉ
ุชุธูุฑ ุฑุณุงูุฉ "Access Denied" ุนูุฏ ูุญุงููุฉ ุงูุฏุฎูู ูู /admin

## ุงูุณุจุจ
ุญุณุงุจู ุบูุฑ ููุฌูุฏ ูู ุฌุฏูู `admin_users` ูู Supabase

---

## โ ุงูุญู ุงูุณุฑูุน (3 ุฎุทูุงุช ููุท)

### ุงูุฎุทูุฉ 1: ุงุญุตู ุนูู UID
ุงูุชุญ ุงููุชุตูุญ ูุงุฐูุจ ุฅูู:
```
http://localhost:3000/get-uid
```

ุณุชุธูุฑ ูู ุตูุญุฉ ุชุนุฑุถ:
- Firebase User ID (UID)
- ุฃูุฑ SQL ุฌุงูุฒ

### ุงูุฎุทูุฉ 2: ุงูุณุฎ ูุฃุถู ูู Supabase

1. **ูู ุตูุญุฉ get-uid**: ุงุถุบุท ุฒุฑ "ูุณุฎ SQL"

2. **ุงูุชุญ Supabase**:
   - ุงุฐูุจ ุฅูู: https://ldbsacdpkinbpcguvgai.supabase.co
   - ุณุฌู ุฏุฎูู
   - ุงุถุบุท ุนูู **SQL Editor** ูู ุงููุงุฆูุฉ ุงููุณุฑู

3. **ุงูุตู ูููุฐ**:
   - ุงูุตู ุงูุฃูุฑ ุงูุฐู ูุณุฎุชู
   - ุงุถุบุท **Run** (ุฃู Ctrl + Enter)
   - ูุฌุจ ุฃู ุชุฑู "Success! 1 rows affected"

### ุงูุฎุทูุฉ 3: ุณุฌู ุฎุฑูุฌ ูุฏุฎูู
1. ุงุฑุฌุน ูููููุน
2. ุณุฌู ุฎุฑูุฌ (Logout)
3. ุณุฌู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู
4. ุฌุฑุจ ุงูุฏุฎูู ุฅูู: http://localhost:3000/admin

---

## ๐ ุทุฑููุฉ ุจุฏููุฉ (ุฅุฐุง ูู ุชุนูู ุตูุญุฉ get-uid)

### ุงุญุตู ุนูู UID ูู Console ุงููุชุตูุญ:

1. ุงูุชุญ: http://localhost:3000/profile
2. ุงุถุบุท F12
3. ุงุฐูุจ ุฅูู Console
4. ุงูุตู ูุฐุง ุงูููุฏ:
```javascript
JSON.parse(localStorage.authUser).uid
```
5. ุงูุณุฎ ุงูู UID ุงูุฐู ูุธูุฑ

### ุฃุถู ูู Supabase:

1. ุงูุชุญ Supabase SQL Editor
2. ุงุณุชุจุฏู `YOUR_UID_HERE` ู `YOUR_EMAIL_HERE` ูู ุงูููุฏ ุงูุชุงูู:

```sql
INSERT INTO admin_users (user_id, email, role, permissions)
VALUES (
  'YOUR_UID_HERE',
  'YOUR_EMAIL_HERE',
  'super_admin',
  '{"all": true}'::jsonb
)
ON CONFLICT (user_id)
DO UPDATE SET
  role = EXCLUDED.role,
  permissions = EXCLUDED.permissions;
```

3. ุงุถุบุท Run

### ุณุฌู ุฎุฑูุฌ ูุฏุฎูู ูุฑุฉ ุฃุฎุฑู

---

## โ ููู ุฃุนุฑู ุฃูู ูุฌุญุ

ุจุนุฏ ุชูููุฐ ุงูุฎุทูุงุช:
1. ุณุฌู ุฏุฎูู
2. ุงุฐูุจ ุฅูู: http://localhost:3000/admin
3. ูุฌุจ ุฃู ุชุฑู Dashboard ูุน ุงูุฅุญุตุงุฆูุงุช

ุฅุฐุง ูุฌุญุ ุณุชุดุงูุฏ:
- ุฅุญุตุงุฆูุงุช Dashboard
- ูุงุฆูุฉ ุฌุงูุจูุฉ ุจู: Dashboard, Consultations, Bookings, etc.
- ุงุณูู ูุจุฑูุฏู ูู ุงูุฃุนูู

---

## ๐๏ธ ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ

### ุชุญูู ูู ุงูุฌุฏูู ูู Supabase:

```sql
SELECT * FROM admin_users;
```

ูุฌุจ ุฃู ุชุฑู ุตู ูุญุชูู ุนูู:
- `user_id`: Firebase UID ุงูุฎุงุต ุจู
- `email`: ุจุฑูุฏู ุงูุฅููุชุฑููู
- `role`: super_admin

---

## ๐ ุฃุญุชุงุฌ ูุณุงุนุฏุฉ!

ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ:
1. ุชุฃูุฏ ูู ุฃูู ูุณุฌู ุฏุฎูู
2. ุชุฃูุฏ ูู ุฃู UID ูู admin_users ูุทุงุจู UID ูู Firebase
3. ุชุฃูุฏ ูู ุฃูู ุณุฌูุช ุฎุฑูุฌ ูุฏุฎูู ุจุนุฏ ุฅุถุงูุฉ UID
4. ุงูุณุญ cache ุงููุชุตูุญ (Ctrl + Shift + Delete)

---

## ๐ ูุซุงู ูุงูู

```
1. ุงูุชุญ: http://localhost:3000/get-uid
2. ุงุถุบุท "ูุณุฎ SQL"
3. ุงูุชุญ Supabase โ SQL Editor
4. ุงูุตู ูุงุถุบุท Run
5. ุณุฌู ุฎุฑูุฌ ูู ุงููููุน
6. ุณุฌู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู
7. ุงูุชุญ: http://localhost:3000/admin
8. โ ูุฌุญ!
```

---

**ููุงุญุธุฉ ูููุฉ**: ูุฌุจ ุชุณุฌูู ุฎุฑูุฌ ูุฏุฎูู ุจุนุฏ ุฅุถุงูุฉ UID ูู Supabaseุ ูุฃู ุงููุธุงู ูุชุญูู ูู ุงูุตูุงุญูุงุช ุนูุฏ ุชุณุฌูู ุงูุฏุฎูู ููุท.
